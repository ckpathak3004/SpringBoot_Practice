

1 :.\bin\windows\kafka-storage.bat random-uuid (generate cluster id)

2: format Kafka storage before starting a Kafka broker in KRaft mode (Kafka without ZooKeeper)

.\bin\windows\kafka-storage.bat format -t 8lis_NsAQmyu9VlO7Mz87w -c 

3:(start server)
.\bin\windows\kafka-storage.bat format -t 8lis_NsAQmyu9V107Mz87w -c C:\kafka\config\server.properties --standalone

once cluster id is created and step 2 is executed first time then ,onwards execute below command to start server

.\bin\windows\kafka-server-start.bat .\config\server.properties


4:(to run step 2)
rem Old lines you are commenting out...
rem wmic os get osarchitecture | find /i "32-bit" >nul 2>&1
rem IF NOT ERRORLEVEL 1 (rem 32-bit OSset KAFKA_HEAP_OPTS=-Xmx512M -Xms512M) ELSE (rem 64-bit OSset KAFKA_HEAP_OPTS=-Xmx1G -Xms1G)

set KAFKA_HEAP_OPTS=-Xmx1G -Xms1G


----------------------------------------
5: Create topic name:myTestTopic (open in new terminal )
.\bin\windows\kafka-topics.bat --create --topic myTestTopic --bootstrap-server localhost:9092

if topic exists already then 

.\bin\windows\kafka-topics.bat --topic --topic myTestTopic --bootstrap-server localhost:9092

#check partition count
kafka-topics.bat --describe --topic myTopic --bootstrap-server localhost:9092

# Increase partitions
kafka-topics.bat --alter --topic myTopic --partitions 10 --bootstrap-server localhost:9092

6: start the consumer first so you can watch messages appear in real-time as you produce them

.\bin\windows\kafka-console-consumer.bat --topic myTestTopic --from-beginning --bootstrap-server localhost:9092

Create another topic

.\bin\windows\kafka-topics.bat --create --topic myTestTopic2 --bootstrap-server localhost:9092

